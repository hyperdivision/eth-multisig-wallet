const abi = require('ethereumjs-abi')
const web3Abi = require('web3-eth-abi')

console.log(' ', abi.rawEncode(['bytes[]'], [[Buffer.alloc(8, 0xdb)]]).toString('hex'))
console.log(web3Abi.encodeParameter('bytes[]', [Buffer.alloc(8, 0xdb)]))

console.log(' ', abi.rawEncode(['bytes[]'], [[Buffer.alloc(65, 0xdb)]]).toString('hex'))

console.log(web3Abi.encodeParameter('bytes[]', [Buffer.alloc(65, 0xdb)]))


const abiDecoder = require('abi-decoder')

const data = '0x6589d76c00000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000192e07afb0c593f16710e09fafae9d6d0eb7a670f99cc2a4000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000520800000000000000000000000000000000000000000000000000000000000002200000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000041fe9190233a7317e60bf744e94a99124fa56afabbefd5f1fda7e4161e6e4fa2a634930ec816c4b2c31c2c532b97acc0298a799c940689db1646363f15f3ef51461b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000415065ad6ef3c7d593669ea7d79f59010e2937bcaf86ccf7d96c340c8422c7e62e4852901c8c85b216f22d9bddb04da60c60e0ef74ced4ce4732abec39bd366aa21c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000100000000000000000000000049fa51bf4388b239fc5cb7929ea1d7bb6b18f9b50000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000002386f26fc10000'

const owner = require('../lib/quorum-owners-api').abi
const wallet = require('../lib/pull-withdrawable-api').abi
abiDecoder.addABI(owner)
abiDecoder.addABI(wallet)

const outer = abiDecoder.decodeMethod(data)
console.log(outer)
const inner = abiDecoder.decodeMethod(outer.params[2].value + outer.params[5].value.slice(2))
console.log(inner)
